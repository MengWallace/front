<h1 id=获取用户数据>获取用户数据</h1><p>获取用户数据，需要向用户进行请求授权，每个URL对应一个scope，如果您需要对应的用户权限，即可添加对应scope到参数列表。<h2 id=授权示例>授权示例</h2><p>例如您需要获取用户的 基本信息(userinfo) 和 用户的身份信息(profile)，则需要将用户导向以下网址:<pre><code>//多个scope用空格(%20)连接
/oauth2/authorize?scope=userinfo%20profile&amp;response_type=code&amp;client_id=586e1e0e34a6e50412254d2a.tiup&amp;redirect_uri=http://www.exmaple.com/callback/oauth
</code></pre><p>那么用户会看到如下图的网页：<p><img src=/apps/docs/assets/img/scopes.png alt=scopes申请><p>用户点击同意后，您就可以获取到 读取用户基础信息 和 身份信息的权限，请参考 OAuth 2.0 文档获取AccessToken，然后使用AccessToken即可获取对应数据。假如您获取的AccessToken为 586e1e0e34a6e50412254d2a，则获取用户数据方法为：<pre><code>curl &quot;https://auth_host/apis/oauth2/v1/userinfo&quot; -H &quot;Authorization: Bearer 586e1e0e34a6e50412254d2a&quot;
</code></pre><p>目前开放的用户数据API列表如下：<h2 id=api列表-1>API列表</h2><h3 id=基础数据>基础数据</h3><table><thead><tr><th>URL<th>Scope<th>描述<tbody><tr><td>/apis/oauth2/v1/userinfo<td>userinfo<td>用户基础数据，包含uid，姓名<tr><td>/apis/oauth2/v1/profile<td>profile<td>请求获取用户学工号，部门名称，主身份等数据<tr><td>/apis/oauth2/v1/userinfo<td>userinfo:email<td>请求获取用户邮箱数据<tr><td>/apis/oauth2/v1/userinfo<td>userinfo:phone<td>请求获取用户手机号</table><h3 id=用户通知数据>用户通知数据</h3><table><thead><tr><th>URL<th>Scope<th>描述<tbody><tr><td>/apis/privacy/v3/notice/noticeDetail<td>privacy<td>获取用户通知列表<tr><td>/apis/privacy/v3/notice/types<td>privacy<td>读取通知类型<tr><td>/apis/privacy/v3/notice<td>privacy<td>读取通知列表</table><h3 id=服务中心对接>服务中心对接</h3><p><a data-internalmd href=API%20资源列表/平台接口/服务中心对接>!服务中心对接</a><h3 id=其他数据>其他数据</h3><p>其他数据权限暂未向公众开放，如果您需要读取用户其他数据，需要联系TiUP工作人员给予授权，联系时，请提供 client id。